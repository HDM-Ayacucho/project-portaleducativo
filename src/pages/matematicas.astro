---
import Layout from "../layouts/Layout.astro"
---

<Layout title="Matemáticas">
  <div class="flex justify-center items-center h-screen">
    <div class="bg-gradient-to-r from-blue-400 to-purple-500 rounded-lg p-8 shadow-lg">
      <h1 class="text-3xl font-bold text-white mb-6">¡Yupakunawan pukllasun!</h1>
      <div id="game" class="bg-white rounded-lg p-4">
        <div id="question" class="text-2xl font-bold mb-4"></div>
        <div id="options" class="grid grid-cols-2 gap-4"></div>
        <button id="nextQuestion" class="bg-green-500 text-white py-2 px-4 rounded mt-4 hover:bg-green-600">Qatiy</button>
      </div>
    </div>
  </div>

  <script>
    const questions = [
      {
        question: "¿Haykataq 2 + 1?",
        options: [2, 3, 4, 5],
        answer: 3
      },
      {
        question: "¿Haykataq 4 - 2?",
        options: [1, 2, 3, 4],
        answer: 2
      },
      // Agrega más preguntas aquí
    ];

    let currentQuestion = 0;
    const questionElement = document.getElementById("question");
    const optionsElement = document.getElementById("options");
    const nextQuestionButton = document.getElementById("nextQuestion");

    function displayQuestion() {
      const question = questions[currentQuestion];
      questionElement.textContent = question.question;
      optionsElement.innerHTML = "";

      for (const option of question.options) {
        const optionButton = document.createElement("button");
        optionButton.textContent = option;
        optionButton.classList.add("bg-blue-500", "text-white", "py-2", "px-4", "rounded", "hover:bg-blue-600");
        optionButton.addEventListener("click", () => checkAnswer(option, question.answer));
        optionsElement.appendChild(optionButton);
      }
    }

    function checkAnswer(selectedOption, correctAnswer) {
      if (selectedOption === correctAnswer) {
        alert("¡Allin kutichiy!");
      } else {
        alert("Yapamanta kallpachakuy");
      }
      currentQuestion++;
      if (currentQuestion < questions.length) {
        displayQuestion();
      } else {
        alert("¡Allin hamutay, pukllayta tukurunkiña!");
        currentQuestion = 0;
      }
    }

    nextQuestionButton.addEventListener("click", displayQuestion);
    displayQuestion();
  </script>
</Layout>